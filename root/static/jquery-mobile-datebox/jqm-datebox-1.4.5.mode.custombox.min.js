/*! jQuery-Mobile-DateBox  |2015-02-06T17:28:42Z | (c) 2010,  2015 JTSage | https://github.com/jtsage/jquery-mobile-datebox/blob/master/LICENSE.txt */
!function(a){a.extend(a.mobile.datebox.prototype.options,{themeButton:"a",themeInput:"a",useSetButton:!0,customData:[],customDefault:[0,0,0],customFormat:!1,customeHead:!1,customboxlang:{customSet:"Looks Good"}}),a.extend(a.mobile.datebox.prototype,{_cbox_offset:function(a,b){var c,d=this,e=this.options;c=(d.customCurrent[a]+b)%e.customData[a].data.length,0>c&&(c=e.customData[a].data.length+c),d.customCurrent[a]=c,e.useImmediate&&d._t({method:"set",value:d._formatter(e.customFormat,d.customCurrent),custom:d.customCurrent}),d.refresh()}}),a.extend(a.mobile.datebox.prototype._parser,{custombox:function(a){return a.length<1||!a.match(/,/)?this.options.customDefault:a.split(",")}}),a.extend(a.mobile.datebox.prototype._customformat,{custombox:function(b,c,d){var e,f=parseInt(b);return"number"!=typeof f||isNaN(f)?(e=a.inArray(b,["a","b","c","d","e","f"]),d.customData[e].data[c[e]]):c[b-1]}}),a.extend(a.mobile.datebox.prototype._build,{custombox:function(){var b,c,d,e=this,f=this.options,g=-2,h="ui-datebox-",i=a("<div>"),j=a("<fieldset>"),k=i.clone(),l=j.clone(),m=this._makeDate(this.d.input.val()),n=a("<div>").addClass("ui-input-text ui-corner-all ui-shadow-inset ui-body-"+f.themeInput).css({padding:".4em",margin:".5em 0",textAlign:"center"}),o=a("<div>"),p="ui-btn-inline ui-link ui-btn ui-btn-"+f.themeButton+" ui-btn-icon-notext ui-shadow ui-corner-all";if("undefined"==typeof e.customCurrent&&(e.customCurrent=m),f.customFormat===!1){for(d=[],b=0;b<f.customData.length;b++)d.push("%X"+(b+1));f.customFormat=d.join(",")}for("boolean"!=typeof e.d.intHTML&&e.d.intHTML.empty().remove(),e.d.headerText=f.customHead!==!1?f.customHead:e._grabLabel()!==!1?e._grabLabel():"",e.d.intHTML=a("<span>"),e.dateOK=!0,b=0;b<f.customData.length;b++)d=e._gridblk.b[b],a("<div>").append(n.clone().html(f.customData[b].data[e.customCurrent[b]])).addClass("ui-block-"+d).appendTo(k),e._makeEl(o,{attr:{field:b,amount:1}}).addClass(h+"cbut ui-block-"+d+" ui-icon-plus "+p).appendTo(j),e._makeEl(o,{attr:{field:b,amount:-1}}).addClass(h+"cbut ui-block-"+d+" ui-icon-minus "+p).appendTo(l),g++;j.addClass("ui-grid-"+e._gridblk.b[g]).appendTo(e.d.intHTML),k.addClass("ui-datebox-dboxin ui-grid-"+e._gridblk.b[g]).appendTo(e.d.intHTML),l.addClass("ui-grid-"+e._gridblk.b[g]).appendTo(e.d.intHTML),(f.useSetButton||f.useClearButton)&&(c=a("<div>",{"class":h+"controls"}),f.useSetButton&&c.append(a("<a href='#' role='button'>"+e.__("customSet")+"</a>").addClass("ui-btn ui-btn-"+f.themeSetButton+" ui-icon-check ui-btn-icon-left ui-shadow ui-corner-all").on(f.clickEventAlt,function(a){a.preventDefault(),e._t({method:"set",value:e._formatter(f.customFormat,e.customCurrent),date:e.customCurrent}),e._t({method:"close"})})),f.useClearButton&&c.append(e._stdBtn.clear.apply(e)),f.useCollapsedBut&&(c.controlgroup({type:"horizontal"}),c.addClass("ui-datebox-collapse")),c.appendTo(e.d.intHTML)),k.on("change","input",function(){e.refresh()}),e.d.intHTML.on(f.clickEvent,"."+h+"cbut",function(b){b.preventDefault(),e._cbox_offset(a(this).data("field"),a(this).data("amount"))})}})}(jQuery);